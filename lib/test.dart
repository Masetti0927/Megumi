import 'dart:convert';
import 'package:http/http.dart' as http;

void main() async {
  // 设置 URL
  final url = Uri.parse('https://interface.music.163.com/eapi/song/enhance/player/url/v1');

  // 设置请求头
  final headers = {
    'Content-Type': 'application/x-www-form-urlencoded',
    'Cookie': 'os=pc; appver=3.1.4.203507',
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36',
  };

  // 设置请求体
  final body = {
    'params': 'FA90B329E9614F79E79598F37DC2EDB487F00D1BC4C9B24CD57E6C318B9073569338432CD7D98D1A3626E997A2C531215BAD8379410D855F538740AB94FF6E2156E48F2234EB8FCC9308C882C4A98BB29EC2C73B0189ACA36F5F7061E1FB2CD42FA48F06B66015B3450B14077959E649ECC8E7AAFDDA3661B93E072F00EA995D0BC215CDE56895AFA165EF4DB28EB8D7B4B20F22D94CAEE6C2F07A912911AEAE133B05B88233D8F5ACD105EBCD93212EE72C3506E20D0F0A9AD093194D95A522BB9F194E91FD534DCB56A1779B8D8AED41F603375CA78E174EC5DFB7F67867A616BE9C3A13671CF17DF0500A53ACBC7C44984599F32073857640DB2265A081E01BCE0E05E3052AB3E962B83B278971925EC1036243574BCE4090FE624DDA5DD985C00986F851388C7308411CB9408EDDC8815199FAF16CE55158F8A4F5EE3EAC08803880AF2A5013B465438F4EAE2F137A91213BD01013977B0406DA5BE64DF5E7EB4AB6AD79EA2AE23E60A96601CBF1314F794A5631DF235C907A3F96910D89C602226BF193B00F68E96CA8326565D0DBC35F4F8B62250ABF935633879E9DA04AB841379541E5BB4625F2C28CAEA6A67E77A7EEAA1149D9D0F7E190D3A3408D600D555C137BE9F28ADD73BFC410183F337D3419CD3847E1AA13E9652D6512A8818C110027A62E0685D5D3242B1B02A52E8FCB61EF8C8DD7360FD9AC18F21B3413C317A6362A579FA20F7C068F8290E4'
  };

  try {
    // 发送 POST 请求
    final response = await http.post(url, headers: headers, body: body);

    // 以 16 进制格式打印原始二进制数据
    print('Response (Hex):');
    print(response.bodyBytes.map((byte) => byte.toRadixString(16).padLeft(2, '0')).join(' '));
  } catch (e) {
    print('Error occurred: $e');
  }
}
